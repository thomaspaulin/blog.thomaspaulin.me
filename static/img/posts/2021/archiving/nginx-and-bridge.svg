<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="503px" preserveAspectRatio="none" style="width:769px;height:503px;" version="1.1" viewBox="0 0 769 503" width="769px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dsn6581tdake" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="193.5" cy="48.6982" fill="#000000" filter="url(#f1dsn6581tdake)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="174" x="106.5" y="78.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="116.5" y="99.8369">Archive request received</text><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="245" x="71" y="132.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="225" x="81" y="153.8057">Reverse proxy to Archive Box Bridge</text><polygon fill="#FEFECE" filter="url(#f1dsn6581tdake)" points="125.5,348.542,261.5,348.542,273.5,360.542,261.5,372.542,125.5,372.542,113.5,360.542,125.5,348.542" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="125.5" y="364.3501">Archiving took too long?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="92.5" y="357.9478">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="273.5" y="357.9478">no</text><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="165" x="21" y="382.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="31" y="403.6807">Report Gateway timeout</text><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="135" x="216" y="382.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="226" y="403.6807">Report status code</text><polygon fill="#FEFECE" filter="url(#f1dsn6581tdake)" points="193.5,422.5107,205.5,434.5107,193.5,446.5107,181.5,434.5107,193.5,422.5107" style="stroke:#A80036;stroke-width:1.5;"/><ellipse cx="193.5" cy="476.5107" fill="#FFFFFF" filter="url(#f1dsn6581tdake)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="187.3128" x2="199.6872" y1="470.3236" y2="482.6979"/><line style="stroke:#000000;stroke-width:2.5;" x1="199.6872" x2="187.3128" y1="470.3236" y2="482.6979"/><line style="stroke:#000000;stroke-width:2.0;" x1="15" x2="15" y1="12.7451" y2="486.5107"/><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="247" x="429.5" y="186.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="227" x="439.5" y="207.7744">Request validated and links extracted</text><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="246" x="430" y="240.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="226" x="440" y="261.7432">Archive Box run via Docker Compose</text><rect fill="#FEFECE" filter="url(#f1dsn6581tdake)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="372" x="367" y="294.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="352" x="377" y="315.7119">Returns status code based on Docker Compose exit code</text><line style="stroke:#000000;stroke-width:2.0;" x1="361" x2="361" y1="12.7451" y2="486.5107"/><line style="stroke:#000000;stroke-width:2.0;" x1="749" x2="749" y1="12.7451" y2="486.5107"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193.5" x2="193.5" y1="58.6982" y2="78.6982"/><polygon fill="#A80036" points="189.5,68.6982,193.5,78.6982,197.5,68.6982,193.5,72.6982" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193.5" x2="193.5" y1="112.667" y2="132.667"/><polygon fill="#A80036" points="189.5,122.667,193.5,132.667,197.5,122.667,193.5,126.667" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="113.5" x2="103.5" y1="360.542" y2="360.542"/><line style="stroke:#A80036;stroke-width:1.5;" x1="103.5" x2="103.5" y1="360.542" y2="382.542"/><polygon fill="#A80036" points="99.5,372.542,103.5,382.542,107.5,372.542,103.5,376.542" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="273.5" x2="283.5" y1="360.542" y2="360.542"/><line style="stroke:#A80036;stroke-width:1.5;" x1="283.5" x2="283.5" y1="360.542" y2="382.542"/><polygon fill="#A80036" points="279.5,372.542,283.5,382.542,287.5,372.542,283.5,376.542" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="103.5" x2="103.5" y1="416.5107" y2="434.5107"/><line style="stroke:#A80036;stroke-width:1.5;" x1="103.5" x2="181.5" y1="434.5107" y2="434.5107"/><polygon fill="#A80036" points="171.5,430.5107,181.5,434.5107,171.5,438.5107,175.5,434.5107" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="283.5" x2="283.5" y1="416.5107" y2="434.5107"/><line style="stroke:#A80036;stroke-width:1.5;" x1="283.5" x2="205.5" y1="434.5107" y2="434.5107"/><polygon fill="#A80036" points="215.5,430.5107,205.5,434.5107,215.5,438.5107,211.5,434.5107" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193.5" x2="193.5" y1="446.5107" y2="466.5107"/><polygon fill="#A80036" points="189.5,456.5107,193.5,466.5107,197.5,456.5107,193.5,460.5107" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="553" x2="553" y1="220.6045" y2="240.6045"/><polygon fill="#A80036" points="549,230.6045,553,240.6045,557,230.6045,553,234.6045" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="553" x2="553" y1="274.5732" y2="294.5732"/><polygon fill="#A80036" points="549,284.5732,553,294.5732,557,284.5732,553,288.5732" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193.5" x2="193.5" y1="166.6357" y2="171.6357"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193.5" x2="553" y1="171.6357" y2="171.6357"/><line style="stroke:#A80036;stroke-width:1.5;" x1="553" x2="553" y1="171.6357" y2="186.6357"/><polygon fill="#A80036" points="549,176.6357,553,186.6357,557,176.6357,553,180.6357" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="553" x2="553" y1="328.542" y2="333.542"/><line style="stroke:#A80036;stroke-width:1.5;" x1="553" x2="193.5" y1="333.542" y2="333.542"/><line style="stroke:#A80036;stroke-width:1.5;" x1="193.5" x2="193.5" y1="333.542" y2="348.542"/><polygon fill="#A80036" points="189.5,338.542,193.5,348.542,197.5,338.542,193.5,342.542" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="53" x="161.5" y="29.4531">Nginx</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="175" x="467.5" y="29.4531">Archive Box Bridge</text><!--MD5=[d213424cabdc8f5174748ccf09f4ad3c]
@startuml
|Nginx|
start
:Archive request received;
:Reverse proxy to Archive Box Bridge;
|Archive Box Bridge|
:Request validated and links extracted;
:Archive Box run via Docker Compose;
:Returns status code based on Docker Compose exit code;
|Nginx|
if (Archiving took too long?) then (yes)
  :Report Gateway timeout;
else (no)
  :Report status code;
endif

end
@enduml

PlantUML version 1.2021.6beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>